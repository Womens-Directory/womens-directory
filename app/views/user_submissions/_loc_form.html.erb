<h1 class="is-size-3 mt-6">
  Your Location
</h1>
<p>
  Please fill out details for your location here. Be as complete as possible.
</p>
<%= fields_for @loc do |lf| %>
  <label for="location_name" class="has-text-weight-bold mt-3 is-block">
    Name of Location
    <%= render partial: 'required' %>
    <%= lf.text_field :name, class: 'input', placeholder: "Food Bank of the Rockies – Mobile Food Pantry" %>
  </label>
  <label for="location_website" class="has-text-weight-bold mt-3 is-block">
    Website
    <%= render partial: 'required' %>
    <%= lf.text_field :website, class: 'input', placeholder: "https://foodbankrockies.org/location/mobile-pantry" %>
  </label>
  <label for="location_desc" class="mt-3 is-block">
    <span class="has-text-weight-bold">Description</span>
    <%= render partial: 'required' %>
    <br>
    <em>You don't need to include information about your organization here – just this specific location.</em>
    <%= lf.text_area :desc, class: 'textarea', cols: 30, rows: 8, placeholder: "The Food Bank of the Rockies mobile pantry is a monthly mobile food pantry integrated with the Food Bank of the Rockies network.\n\nWe bring our mobile pantry to local gathering areas to serve people with limited access to transport." %>
  </label>
  <label for="location_address1" class="has-text-weight-bold mt-3 is-block">
    Address 1
    <%= lf.text_field :address1, class: 'input', placeholder: "1701 Bryant St" %>
  </label>
  <label for="location_address2" class="has-text-weight-bold mt-3 is-block">
    Address 2
    <%= lf.text_field :address2, class: 'input', placeholder: "" %>
  </label>
  <label for="location_city" class="has-text-weight-bold mt-3 is-block">
    City
    <%= render partial: 'required' %>
    <%= lf.text_field :city, class: 'input', placeholder: "Denver" %>
  </label>
  <%= render partial: 'shared/state_picker', locals: { name: 'location[state]' } %>
  <label for="location_zip" class="has-text-weight-bold mt-3 is-block">
    Zip Code
    <%= render partial: 'required' %>
    <%= lf.text_field :zip, class: 'input', placeholder: "80204" %>
  </label>
  <%= fields_for @email do |ef| %>
    <label for="location_email" class="has-text-weight-bold mt-3 is-block">
      Contact Email (shown to the public)
      <%= ef.email_field :address, class: 'input', placeholder: "your-location@example.org" %>
    </label>
  <% end %>
  <%= fields_for @phone do |pf| %>
    <label for="location_phone" class="has-text-weight-bold mt-3 is-block">
      Phone Number (shown to the public)
      <%= pf.phone_field :number, class: 'input', placeholder: "(303) 555-1212" %>
    </label>
    <label for="phone_number_call" class="is-block mt-1">
      <%= pf.check_box :call, class: 'checkbox' %>
      People can call this phone number
    </label>
    <label for="phone_number_sms" class="is-block">
      <%= pf.check_box :sms, class: 'checkbox' %>
      People can text this phone number
    </label>
    <label for="phone_number_always_open" class="is-block">
      <%= pf.check_box :always_open, class: 'checkbox' %>
      This phone number is staffed 24/7
    </label>
  <% end %>
  <label class="mt-3 is-block">
    <span class="has-text-weight-bold">
      Services Provided
      <%= render partial: 'required' %>
    </span>
    <p>
      Please check the boxes for each service that you provide at this location:
    </p>
    <% @cats.each do |cat| %>
      <label for="category_<%= cat.id %>" class="is-block">
        <input type="checkbox" name="category_<%= cat.id %>" id="category_<%= cat.id %>" <% if @category_ids&.include?(cat.id) %> checked <% end %> >
        <%= cat.name %>
      </label>
    <% end %>
  </label>
<% end %>
<%= fields_for @sub do |sf| %>
  <label for="submission_additional_notes" class="has-text-weight-bold mt-3 is-block">
    Additional Information
    <%= sf.text_area :additional_notes, class: 'textarea', cols: 30, rows: 4, placeholder: "For example:\n• Additional contacts in your organization that we can reach out to for collaboration\n• Any other links to your website or phone numbers we should include\n• Anything else you want us to know" %>
  </label>
  <label for="submission_contact_email" class="mt-3 is-block">
    <span class="has-text-weight-bold">
      Your Email (this stays private)
      <%= render partial: 'required' %>
    </span>
    <br>
    <em>To reduce spam on our website, we will email you a confirmation link. You must click this link to complete your submission. We will also email you here if we have any questions.</em>
    <%= sf.text_field :contact_email, class: 'input', placeholder: "your-work-email@example.org" %>
  </label>
<% end %>
